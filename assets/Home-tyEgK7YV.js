import{_ as z,r as y,n as H,p as D,h as b,f as l,q as L,i as m,w as t,b as u,t as E,s as $,F as V,o as d,j as w,e as k,l as M}from"./index-DgJ43lB0.js";const q=""+new URL("electrolyzer-D2XhPpSW.jpg",import.meta.url).href,T=""+new URL("grid-F8W8QrIU.jpg",import.meta.url).href,G=""+new URL("load-C_0rHyBn.jpg",import.meta.url).href,J=""+new URL("pv-COkJ4pjq.jpg",import.meta.url).href,Q=""+new URL("storage-DxOh44Nx.jpg",import.meta.url).href,X=""+new URL("tank-UG3nlBLF.jpg",import.meta.url).href,A=""+new URL("wind-B_xyfLrM.jpg",import.meta.url).href,Y={class:"image-container"},Z={class:"image-label"},ee={class:"table-container"},le={class:"table-container"},ae={class:"table-container"},te={class:"settings-content"},ne={__name:"Home",setup(oe){const U=y(["1"]),v=y(!1),c=y({label:"",settingsSchema:[]}),h=H([{name:"wind",label:"风力发电",settingsSchema:[{key:"minCapacity",label:"最小容量(MW)",type:"text",num:"70"},{key:"maxCapacity",label:"最大容量(MW)",type:"text",num:"130"},{key:"investmentCost",label:"投资成本(/KW)",type:"text",num:"3600"},{key:"maintenanceCost",label:"运维成本(/KW)",type:"text",num:"98.8"},{key:"lifespan",label:"使用寿命",type:"text",num:"20"}]},{name:"pv",label:"光伏发电",settingsSchema:[{key:"minCapacity",label:"最小容量(MW)",type:"text",num:"0"},{key:"maxCapacity",label:"最大容量(MW)",type:"text",num:"0"},{key:"investmentCost",label:"投资成本(/KW)",type:"text",num:"2800"},{key:"maintenanceCost",label:"运维成本(/KW)",type:"text",num:"62.2"},{key:"lifespan",label:"使用寿命(年)",type:"text",num:"20"}]},{name:"storage",label:"储能系统",settingsSchema:[{key:"minCapacity",label:"最小容量(MW)",type:"text",num:"0"},{key:"maxCapacity",label:"最大容量(MW)",type:"text",num:"50"},{key:"investmentCost",label:"投资成本(/KW)",type:"text",num:"850"},{key:"maintenanceCost",label:"运维成本(/KW)",type:"text",num:"21.25"},{key:"lifespan",label:"使用寿命(年)",type:"text",num:"20"}]},{name:"electrolyzer",label:"制氢电解槽",settingsSchema:[{key:"minCapacity",label:"最小容量(MW)",type:"text",num:"55"},{key:"maxCapacity",label:"最大容量(MW)",type:"text",num:"130"},{key:"investmentCost",label:"投资成本(/KW)",type:"text",num:"1500"},{key:"maintenanceCost",label:"运维成本(/KW)",type:"text",num:"70.5"},{key:"lifespan",label:"使用寿命(年)",type:"text",num:"20"}]},{name:"tank",label:"储氢罐",settingsSchema:[{key:"minCapacity",label:"最小个数",type:"text",num:"0"},{key:"maxCapacity",label:"最大个数",type:"text",num:"10"},{key:"investmentCost",label:"投资成本(/个)",type:"text",num:"1500"},{key:"maintenanceCost",label:"运维成本(/KW)",type:"text",num:"70.5"},{key:"lifespan",label:"使用寿命(年)",type:"text",num:"20"}]},{name:"grid",label:"电网连接",settingsSchema:[{key:"gridType",label:"并网方式",type:"select",options:[{label:"并网上网"},{label:"并网不上网"},{label:"离网"}]}]}]),N=o=>new URL(Object.assign({"../assets/images/electrolyzer.jpg":q,"../assets/images/grid.jpg":T,"../assets/images/load.jpg":G,"../assets/images/pv.jpg":J,"../assets/images/storage.jpg":Q,"../assets/images/tank.jpg":X,"../assets/images/wind.jpg":A})[`../assets/images/${o}.jpg`],import.meta.url).href,O=o=>{c.value=o,v.value=!0,document.body.style.overflow="hidden"},C=()=>{v.value=!1,document.body.style.overflow=""},K=()=>{console.log(`保存的设置 - ${c.value.label}:`,c.value.settings),C()},S=()=>{const o={};return h.forEach(e=>{o[e.name]={},e.settingsSchema.forEach(_=>{_.num!==void 0&&(o[e.name][_.key]=_.num)})}),o};S(),D(()=>c.value.settingsSchema,()=>{const o=S();console.log(o)},{deep:!0});const r=y({chargeEfficiency:"0.9",dischargeEfficiency:"0.9",minSOC:"20",maxSOC:"100",rate:"0.5C"}),i=y({volume:"2000",maxpressure:"1.6",minpressure:"0.3",atmosphericpressure:"0.101325",storagevolume:"25666"}),g=y({auxiliaryLoadFactor:"1",ElectricityPerNm3:"5"});return(o,e)=>{const _=u("el-image"),R=u("el-collapse-item"),B=u("el-collapse"),f=u("el-card"),W=u("el-col"),s=u("el-input"),n=u("el-form-item"),x=u("el-form"),F=u("el-row"),I=u("el-option"),P=u("el-select"),j=u("el-button");return d(),b(V,null,[l(F,{class:"home",gutter:20},{default:t(()=>[l(W,{span:10,style:{"margin-top":"20px"}},{default:t(()=>[l(f,{style:{height:"1000px"}},{default:t(()=>[e[13]||(e[13]=m("h2",{class:"system-title"},"风光制氢系统",-1)),l(B,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=a=>U.value=a),class:"collapse-panel"},{default:t(()=>[l(R,{title:"组件库",name:"1"},{default:t(()=>[m("div",Y,[(d(!0),b(V,null,w(h,a=>(d(),b("div",{class:"image-with-label",key:a.name},[l(_,{class:"image-item",src:N(a.name),fit:"cover",alt:a.label,onClick:p=>O(a)},null,8,["src","alt","onClick"]),m("p",Z,E(a.label),1)]))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(W,{span:14,style:{"margin-top":"20px"}},{default:t(()=>[l(f,{shadow:"hover",class:"user-table"},{default:t(()=>[e[17]||(e[17]=m("h2",{class:"system-title"},"模型参数",-1)),l(f,{shadow:"hover",class:"user-table"},{default:t(()=>[m("div",ee,[e[14]||(e[14]=m("h3",null,"电化学储能 ",-1)),l(x,{inline:!0,model:o.formInline,"label-width":"160px",class:"demo-form-inline"},{default:t(()=>[l(n,{label:"充电效率"},{default:t(()=>[l(s,{modelValue:r.value.chargeEfficiency,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.chargeEfficiency=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"放电效率"},{default:t(()=>[l(s,{modelValue:r.value.dischargeEfficiency,"onUpdate:modelValue":e[2]||(e[2]=a=>r.value.dischargeEfficiency=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"最小荷电状态"},{default:t(()=>[l(s,{modelValue:r.value.minSOC,"onUpdate:modelValue":e[3]||(e[3]=a=>r.value.minSOC=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"最大荷电状态"},{default:t(()=>[l(s,{modelValue:r.value.maxSOC,"onUpdate:modelValue":e[4]||(e[4]=a=>r.value.maxSOC=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"C-rate"},{default:t(()=>[l(s,{modelValue:r.value.rate,"onUpdate:modelValue":e[5]||(e[5]=a=>r.value.rate=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1}),l(f,{shadow:"hover",class:"user-table",style:{"margin-top":"20px"}},{default:t(()=>[m("div",le,[e[15]||(e[15]=m("h3",null,"储氢罐 ",-1)),l(x,{inline:!0,model:o.formInline,"label-width":"160px",class:"demo-form-inline"},{default:t(()=>[l(n,{label:"几何容积(m3)"},{default:t(()=>[l(s,{modelValue:i.value.volume,"onUpdate:modelValue":e[6]||(e[6]=a=>i.value.volume=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"最高工作压力(MPa)"},{default:t(()=>[l(s,{modelValue:i.value.maxpressure,"onUpdate:modelValue":e[7]||(e[7]=a=>i.value.maxpressure=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"最低工作压力(MPa)"},{default:t(()=>[l(s,{modelValue:i.value.maxpressure,"onUpdate:modelValue":e[8]||(e[8]=a=>i.value.maxpressure=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"大气压(MPa)"},{default:t(()=>[l(s,{modelValue:i.value.atmosphericpressure,"onUpdate:modelValue":e[9]||(e[9]=a=>i.value.atmosphericpressure=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"有效储氢容积(m3/个)"},{default:t(()=>[l(s,{modelValue:i.value.storagevolume,"onUpdate:modelValue":e[10]||(e[10]=a=>i.value.storagevolume=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1}),l(f,{shadow:"hover",class:"user-table",style:{"margin-top":"20px"}},{default:t(()=>[m("div",ae,[e[16]||(e[16]=m("h3",null,"制氢系统 ",-1)),l(x,{inline:!0,model:o.formInline,"label-width":"160px",class:"demo-form-inline"},{default:t(()=>[l(n,{label:"辅机负荷系数"},{default:t(()=>[l(s,{modelValue:g.value.auxiliaryLoadFactor,"onUpdate:modelValue":e[11]||(e[11]=a=>g.value.auxiliaryLoadFactor=a),clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"每标方氢用电量(kw·h)"},{default:t(()=>[l(s,{modelValue:g.value.ElectricityPerNm3,"onUpdate:modelValue":e[12]||(e[12]=a=>g.value.ElectricityPerNm3=a),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1})]),_:1})]),_:1}),v.value?(d(),b("div",{key:0,class:"overlay",onClick:C})):L("",!0),m("div",{class:$(["settings-panel",{active:v.value}])},[m("div",te,[m("h3",null,"设置参数 - "+E(c.value.label),1),l(x,{"label-width":"120px"},{default:t(()=>[(d(!0),b(V,null,w(c.value.settingsSchema,a=>(d(),k(n,{key:a.key,label:a.label},{default:t(()=>[a.type==="text"?(d(),k(s,{key:0,modelValue:a.num,"onUpdate:modelValue":p=>a.num=p},null,8,["modelValue","onUpdate:modelValue"])):a.type==="select"?(d(),k(P,{key:1,modelValue:a.label,"onUpdate:modelValue":p=>a.label=p},{default:t(()=>[(d(!0),b(V,null,w(a.options,p=>(d(),k(I,{label:p.label,value:p.label},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue"])):L("",!0)]),_:2},1032,["label"]))),128)),l(n,null,{default:t(()=>[l(j,{type:"primary",onClick:K},{default:t(()=>e[18]||(e[18]=[M("保存")])),_:1}),l(j,{onClick:C},{default:t(()=>e[19]||(e[19]=[M("取消")])),_:1})]),_:1})]),_:1})])],2)],64)}}},me=z(ne,[["__scopeId","data-v-29fd6cda"]]);export{me as default};
